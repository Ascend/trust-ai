{"version":3,"sources":["webpack:///./src/assets/user/version.png","webpack:///src/pages/Home.vue","webpack:///./src/service/home.js","webpack:///./src/pages/Home.vue?5d4f","webpack:///./src/pages/Home.vue","webpack:///./src/assets/user/healthStatus.png"],"names":["module","exports","Home","name","data","username","password","version","tableData","healthStatus","tmpVersion","tmpTableData","tmpHealthStatus","isQueryVersion","isQueryCert","isQueryHealth","spanArr","position","fileList","mounted","this","fetchData","watch","newValue","oldValue","methods","queryVersion","_this","params","arguments","length","undefined","$get","fetchVersion","then","res","status","timerVersion","setTimeout","clearTimeout","split","finally","timerHealth","queryHealth","_this2","fetchHealthStatus","msg","timerCert","queryCert","_this3","fetchCertStatus","handleBeforeUpload","file","isZip","type","indexOf","isLt50M","size","$message","error","$t","handleDownload","_this4","extends_default","responseType","exportFile","headers","reader","FileReader","onload","e","JSON","parse","target","result","message","readAsText","blob","Blob","filename","link","document","createElement","style","display","url","window","URL","webkitURL","moxURL","href","createObjectURL","download","click","revokeObjectURL","handleUploadSuccess","response","success","warning","handleUploadError","err","pages_Home","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","gutter","span","src","__webpack_require__","_v","_s","staticStyle","width","margin-top","cell-style","textAlign","border","padding","header-cell-style","empty-text","prop","label","action","file-list","before-upload","show-file-list","on-success","on-error","margin-left","plain","on","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/1.1420b30c7c4cde76261e.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/user/version.png\n// module id = BDzH\n// module chunks = 1","<template>\r\n  <div class=\"main\">\r\n    <div class=\"info-block\">\r\n      <el-row :gutter=\"20\">\r\n          <el-col :span=\"8\" class=\"info-col\">\r\n              <img class=\"info-img\" src=\"@/assets/user/version.png\" />\r\n              <div class=\"info-subitem\">\r\n                  <div class=\"info-subitem-title\">{{$t('VERSION')}}</div>\r\n                  <span class=\"info-subitem-text\">{{ version }}</span>\r\n              </div>\r\n          </el-col>\r\n          <el-col :span=\"8\" class=\"info-col\">\r\n              <img class=\"info-img\" src=\"@/assets/user/healthStatus.png\" />\r\n              <div class=\"info-subitem\">\r\n                  <div class=\"info-subitem-title\">{{$t('HEALTH_STATUS')}}</div>\r\n                  <span class=\"info-subitem-text\">{{ healthStatus }}</span>\r\n              </div>\r\n          </el-col>\r\n      </el-row>\r\n    </div>\r\n    \r\n    <el-table\r\n      :data=\"tableData\"\r\n      style=\"width: 100%; margin-top: 20px\"\r\n      :cell-style=\"{ textAlign: 'center', border: '0.5px solid rgb(123, 143, 175, 0.5)', padding: '10px 0', }\"\r\n      :header-cell-style=\"{ textAlign: 'center', padding: '10px 0', }\"\r\n      :empty-text=\"$t('EMPTY_TEXT')\"\r\n    >\r\n      <el-table-column prop=\"CertType\" :label=\"$t('COLUMN_CERT_TYPE')\"></el-table-column>\r\n      <el-table-column prop=\"CertValidDate\" :label=\"$t('COLUMN_CERT_VALID_DATE')\"></el-table-column>\r\n      <el-table-column prop=\"CertAlarm\" :label=\"$t('COLUMN_CERT_ALARM')\"></el-table-column>\r\n      <el-table-column prop=\"CrlStatus\" :label=\"$t('COLUMN_CRL_STATUS')\"></el-table-column>\r\n    </el-table>\r\n\r\n    <div class=\"home-operation\">\r\n      <el-upload\r\n        class=\"upload-demo\"\r\n        action=\"/datamanager/v1/import\"\r\n        :file-list=\"fileList\"\r\n        style=\"display: inline-block;\"\r\n        :before-upload=\"handleBeforeUpload\"\r\n        :show-file-list=\"false\"\r\n        :on-success=\"handleUploadSuccess\"\r\n        :on-error=\"handleUploadError\"\r\n        >\r\n        <el-button style=\"margin-left: 10px;\" type=\"primary\">{{ $t('BUTTON_UPLOAD') }}</el-button>\r\n      </el-upload>\r\n\r\n      <el-button \r\n        type=\"primary\" \r\n        plain \r\n        style=\"margin-left: 10px;\"\r\n        @click=\"handleDownload\"\r\n      >\r\n        {{ $t('BUTTON_DOWNLOAD') }}\r\n      </el-button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { fetchVersion, fetchHealthStatus, fetchCertStatus, exportFile } from '@/service/home.js'\r\n\r\nexport default {\r\n  name: 'home',\r\n  data () {\r\n    return {\r\n      username: '',\r\n      password: '',\r\n      version: '',\r\n      tableData: [],\r\n      healthStatus: '',\r\n      tmpVersion: '',\r\n      tmpTableData: [],\r\n      tmpHealthStatus: '',\r\n      isQueryVersion: false,\r\n      isQueryCert: false,\r\n      isQueryHealth: false,\r\n      spanArr: [],\r\n      position: 0,\r\n      fileList: [],\r\n    }\r\n  },\r\n  mounted() {\r\n    this.fetchData()\r\n  },\r\n  watch: {\r\n    isQueryVersion(newValue, oldValue) {\r\n      if(this.isQueryVersion && this.isQueryHealth && this.isQueryCert) {\r\n        this.version = this.tmpVersion\r\n        this.healthStatus = this.tmpHealthStatus\r\n        this.tableData = this.tmpTableData\r\n      }\r\n    },\r\n    isQueryHealth(newValue, oldValue) {\r\n      if(this.isQueryVersion && this.isQueryHealth && this.isQueryCert) {\r\n        this.version = this.tmpVersion\r\n        this.healthStatus = this.tmpHealthStatus\r\n        this.tableData = this.tmpTableData\r\n      }\r\n    },\r\n    isQueryCert(newValue, oldValue) {\r\n      if(this.isQueryVersion && this.isQueryHealth && this.isQueryCert) {\r\n        this.version = this.tmpVersion\r\n        this.healthStatus = this.tmpHealthStatus\r\n        this.tableData = this.tmpTableData\r\n      }\r\n    },\r\n  },\r\n  methods: {\r\n    queryVersion() {\r\n      fetchVersion()\r\n        .then(res => {\r\n          if(res.data.status === '31000022') {\r\n            let timerVersion = setTimeout(() => {\r\n              this.queryVersion()\r\n              clearTimeout(timerVersion)\r\n            }, 1000);\r\n          } else {\r\n            this.tmpVersion = res.data.data.version.split('_')[0]\r\n            this.isQueryVersion = true\r\n          }\r\n          })\r\n        .finally(() => {\r\n          let timerHealth = setTimeout(() => {\r\n              this.queryHealth()\r\n              clearTimeout(timerHealth)\r\n            }, 1000);\r\n        })\r\n    },\r\n    queryHealth() {\r\n      fetchHealthStatus()\r\n        .then(res => {\r\n          if(res.data.status === '31000022') {\r\n            let timerHealth = setTimeout(() => {\r\n              this.queryHealth()\r\n              clearTimeout(timerHealth)\r\n            }, 1000);\r\n          } else {\r\n            this.tmpHealthStatus = res.data.msg === 'ok' ? '健康' : '不健康'\r\n            this.isQueryHealth = true\r\n          }\r\n        })\r\n        .finally(() => {\r\n          let timerCert = setTimeout(() => {\r\n              this.queryCert()\r\n              clearTimeout(timerCert)\r\n            }, 1000);\r\n        })\r\n    },\r\n    queryCert() {\r\n      fetchCertStatus()\r\n        .then(res => {\r\n          if(res.data.status === '31000022') {\r\n            let timerCert = setTimeout(() => {\r\n              this.queryCert()\r\n              clearTimeout(timerCert)\r\n            }, 1000);\r\n          } else {\r\n            this.tmpTableData = res.data.data\r\n            this.isQueryCert = true\r\n          }\r\n        })\r\n    },\r\n    fetchData() {\r\n      this.queryVersion()\r\n    },   \r\n    handleBeforeUpload(file) {\r\n      const isZip = file.type.indexOf('zip') > -1;\r\n      const isLt50M = file.size / 1024 / 1024 <= 50;\r\n\r\n      if (!isZip) {\r\n        this.$message.error(this.$t('ERR_UPLOAD_FILE_TYPE'));\r\n      }\r\n      if (!isLt50M) {\r\n        this.$message.error(this.$t('ERR_UPLOAD_FILE_SIZE'));\r\n      }\r\n      return isZip && isLt50M;\r\n    },\r\n    handleDownload() {\r\n      exportFile()\r\n        .then(res => {\r\n          if (res.headers['content-disposition'] === undefined) {\r\n            let reader = new FileReader();\r\n            reader.onload = (e) => {\r\n                let res = JSON.parse(e.target.result);\r\n                if(res.status === '41000002') {\r\n                    this.$message.error({\r\n                        message: this.$t('ERR_DOWNLOAD'),\r\n                    })\r\n                }\r\n            }\r\n            reader.readAsText(res.data)\r\n          } else {\r\n            let blob = new Blob([res.data], {type: 'application/json'})\r\n            let filename = res.headers['content-disposition'].split(';')[1].split('=')[1];\r\n            let link = document.createElement('a');\r\n            link.style.display = 'none';\r\n\r\n            const url = window.URL || window.webkitURL || window.moxURL;\r\n            link.href = url.createObjectURL(blob);\r\n            link.download = filename;\r\n            link.click();\r\n            window.URL.revokeObjectURL(url);\r\n          }\r\n        })\r\n    },\r\n    handleUploadSuccess(response, file, fileList) {\r\n      if(response.status === \"00000000\") {\r\n        this.$message.success({message: this.$t('SUCCESS_UPLOAD')})\r\n      } else {\r\n        this.$message.warning({message: this.$t('ERR_UPLOAD')})\r\n      }\r\n    },\r\n    handleUploadError(err, file, fileList) {\r\n      this.$message.warning({message: this.$t('ERR_UPLOAD')})\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped>\r\n.home-operation {\r\n  margin-top: 20px;\r\n}\r\n  .info-block {\r\n      background-color: #1f2329;\r\n      height: 64px;\r\n      border-radius: 4px;\r\n      padding: 16px 24px;\r\n      margin-top: 10px;\r\n  }\r\n  \r\n  .info-col {\r\n      display: flex;\r\n      vertical-align: center;\r\n  }\r\n  .info-subitem {\r\n      display: inline-block;\r\n  }\r\n  \r\n  .info-subitem-title {\r\n      margin-left: 10px;\r\n      font-size: 14px;\r\n      color: #6A6A6A;\r\n  }\r\n  \r\n  .info-subitem-text {\r\n      margin-left: 10px;\r\n      font-size: 32px;\r\n      color: #6A6A6A;\r\n  }\r\n  </style>\n\n\n// WEBPACK FOOTER //\n// src/pages/Home.vue","import { $get } from './http';\r\n\r\n// 查询版本号\r\nexport function fetchVersion(params = {}) {\r\n    const url = '/AIVAULT/v1/version/'\r\n    return $get(url, params)\r\n}\r\n\r\n// 查询健康状态\r\nexport function fetchHealthStatus(params = {}) {\r\n    const url = '/AIVAULT/v1/health'\r\n    return $get(url, params)\r\n}\r\n\r\n// 查询证书状态\r\nexport function fetchCertStatus(params = {}) {\r\n    const url = '/AIVAULT/v1/certStatus'\r\n    return $get(url, params)\r\n}\r\n\r\n// 导出\r\nexport function exportFile(params = {}) {\r\n    const url = '/datamanager/v1/export'\r\n    return $get(url, {\r\n        ...params\r\n    },\r\n    {\r\n        responseType: 'blob'\r\n    });\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/service/home.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"main\"},[_c('div',{staticClass:\"info-block\"},[_c('el-row',{attrs:{\"gutter\":20}},[_c('el-col',{staticClass:\"info-col\",attrs:{\"span\":8}},[_c('img',{staticClass:\"info-img\",attrs:{\"src\":require(\"@/assets/user/version.png\")}}),_vm._v(\" \"),_c('div',{staticClass:\"info-subitem\"},[_c('div',{staticClass:\"info-subitem-title\"},[_vm._v(_vm._s(_vm.$t('VERSION')))]),_vm._v(\" \"),_c('span',{staticClass:\"info-subitem-text\"},[_vm._v(_vm._s(_vm.version))])])]),_vm._v(\" \"),_c('el-col',{staticClass:\"info-col\",attrs:{\"span\":8}},[_c('img',{staticClass:\"info-img\",attrs:{\"src\":require(\"@/assets/user/healthStatus.png\")}}),_vm._v(\" \"),_c('div',{staticClass:\"info-subitem\"},[_c('div',{staticClass:\"info-subitem-title\"},[_vm._v(_vm._s(_vm.$t('HEALTH_STATUS')))]),_vm._v(\" \"),_c('span',{staticClass:\"info-subitem-text\"},[_vm._v(_vm._s(_vm.healthStatus))])])])],1)],1),_vm._v(\" \"),_c('el-table',{staticStyle:{\"width\":\"100%\",\"margin-top\":\"20px\"},attrs:{\"data\":_vm.tableData,\"cell-style\":{ textAlign: 'center', border: '0.5px solid rgb(123, 143, 175, 0.5)', padding: '10px 0', },\"header-cell-style\":{ textAlign: 'center', padding: '10px 0', },\"empty-text\":_vm.$t('EMPTY_TEXT')}},[_c('el-table-column',{attrs:{\"prop\":\"CertType\",\"label\":_vm.$t('COLUMN_CERT_TYPE')}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"CertValidDate\",\"label\":_vm.$t('COLUMN_CERT_VALID_DATE')}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"CertAlarm\",\"label\":_vm.$t('COLUMN_CERT_ALARM')}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"CrlStatus\",\"label\":_vm.$t('COLUMN_CRL_STATUS')}})],1),_vm._v(\" \"),_c('div',{staticClass:\"home-operation\"},[_c('el-upload',{staticClass:\"upload-demo\",staticStyle:{\"display\":\"inline-block\"},attrs:{\"action\":\"/datamanager/v1/import\",\"file-list\":_vm.fileList,\"before-upload\":_vm.handleBeforeUpload,\"show-file-list\":false,\"on-success\":_vm.handleUploadSuccess,\"on-error\":_vm.handleUploadError}},[_c('el-button',{staticStyle:{\"margin-left\":\"10px\"},attrs:{\"type\":\"primary\"}},[_vm._v(_vm._s(_vm.$t('BUTTON_UPLOAD')))])],1),_vm._v(\" \"),_c('el-button',{staticStyle:{\"margin-left\":\"10px\"},attrs:{\"type\":\"primary\",\"plain\":\"\"},on:{\"click\":_vm.handleDownload}},[_vm._v(\"\\n      \"+_vm._s(_vm.$t('BUTTON_DOWNLOAD'))+\"\\n    \")])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-6e056736\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/Home.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-6e056736\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Home.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Home.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Home.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6e056736\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Home.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-6e056736\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/Home.vue\n// module id = null\n// module chunks = ","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAILSURBVHgB7ZnLccIwEIZlTw7ckhJMBaEEOkhuPC7BFUAqwFQQqCBw4XUiFcQlkApCCT4xXID869Fk8pAf60nAaPab8ciIlaxfK1nWSilBEARBEARBEAThN04eo9lsVncc5wG397hu1PmIcK2Ox+Og1WptVAEyBS8Wiz4eEKiSAQcEjUZjoJikCoZnO6j4me4Ph8MI98OiPfsXoD0e2tDDbVdnPTabzSGjinTB8/n8HYlXpOL/BO0i0U8QH22326rv+1Hesm7SH9PplOarh2tdJrGEbk+IqXZTqVRqnLKJgtF7cUWo9EWVkzed1hWDK8VkuVzWMJ9flfltPUbv+xy7osAREZyiuLhMe7Xf79OWpg7X7tSwPVw24OVrvG96SD8713XdNZaslcn+4gWDHgR+y8Bwpze5cWVhD+lLAR7vm/KtFUxLlinfWsFJiGDbEcG2I4JtRwTbjs2flsYoiLWCKQZnyr/43RK+mSe41l+3hyBEsDE02duwPdy02+3cMbciQzqkhyT8Ny5gd1IyPfxzm6WHSjWrXF67U5Pm4TA2cN1bVUIwZ+8opfnLKZcoeLfbUUX0aq/rwHdpQHvo5IHCyDR/V5yyWScPcYRf/xyiN0fnPmrBiOuiHbEDkPpoz5hTR2ZgFw8JkuJD50SfIAaKSd7jUg9JoOdNGY5LJ0nrrCAIgiAIgiAIglCEDxfBvSVLooxpAAAAAElFTkSuQmCC\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/user/healthStatus.png\n// module id = Pq/1\n// module chunks = 1"],"sourceRoot":""}