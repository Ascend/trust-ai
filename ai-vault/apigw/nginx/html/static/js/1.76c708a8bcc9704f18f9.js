webpackJsonp([1],{BDzH:function(t,e){t.exports="data:image/png;base64,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"},FdRv:function(t,e){},HXef:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("Dd8w"),i=a.n(s),n=a("lta2");var r={name:"home",data:function(){return{username:"",password:"",version:"",tableData:[],healthStatus:"",tmpVersion:"",tmpTableData:[],tmpHealthStatus:"",isQueryVersion:!1,isQueryCert:!1,isQueryHealth:!1,spanArr:[],position:0,fileList:[]}},mounted:function(){this.fetchData()},watch:{isQueryCert:function(t,e){this.version=this.tmpVersion,this.healthStatus=this.tmpHealthStatus,this.tableData=this.tmpTableData}},methods:{queryVersion:function(){var t=this;(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(n.b)("/AIVAULT/v1/version/",t)})().then(function(e){if("31000022"===e.data.status)var a=setTimeout(function(){t.queryVersion(),clearTimeout(a)},1e3);else t.tmpVersion=e.data.data.version.split("_")[0],t.isQueryVersion=!0})},queryHealth:function(){var t=this;(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(n.b)("/AIVAULT/v1/health",t)})().then(function(e){if("31000022"===e.data.status)var a=setTimeout(function(){t.queryHealth(),clearTimeout(a)},1e3);else t.tmpHealthStatus="ok"===e.data.msg?"健康":"不健康",t.isQueryHealth=!0})},queryCert:function(){var t=this;(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(n.b)("/AIVAULT/v1/certStatus",t)})().then(function(e){if("31000022"===e.data.status)var a=setTimeout(function(){t.queryCert(),clearTimeout(a)},1e3);else t.tmpTableData=e.data.data,t.isQueryCert=!0,t.handleSpan()})},fetchData:function(){this.queryVersion(),this.queryHealth(),this.queryCert()},handleSpan:function(){var t=this,e=this.tableData.filter(function(t){return"MGMT"===t.CertType}),a=this.tableData.filter(function(t){return"MGMT"!==t.CertType});this.tableData=e.concat(a),this.tableData.forEach(function(e,a){e.CertType={MGMT:"管理面",SVC:"服务面"}[e.CertType],e.CertAlarm=""===e.CertAlarm?"正常":"不正常",e.CrlStatus="No CRL certificate has been imported."===e.CrlStatus?"未导入":"已导入",0===a?(t.spanArr.push(1),t.position=0):t.tableData[a].CertType===t.tableData[a-1].CertType?(t.spanArr[t.position]+=1,t.spanArr.push(0)):(t.spanArr.push(1),t.position=a)})},objectSpanMethod:function(t){t.row,t.column;var e=t.rowIndex;if(0===t.columnIndex){var a=this.spanArr[e];return{rowspan:a,colspan:a>0?1:0}}},handleBeforeUpload:function(t){var e=t.type.indexOf("zip")>-1,a=t.size/1024/1024<=50;return e||this.$message.error(this.$t("ERR_UPLOAD_FILE_TYPE")),a||this.$message.error(this.$t("ERR_UPLOAD_FILE_SIZE")),e&&a},handleDownload:function(){var t=this;(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(n.b)("/datamanager/v1/export",i()({},t),{responseType:"blob"})})().then(function(e){if(void 0===e.headers["content-disposition"]){var a=new FileReader;a.onload=function(e){"41000002"===JSON.parse(e.target.result).status&&t.$message.error({message:t.$t("ERR_DOWNLOAD")})},a.readAsText(e.data)}else{var s=new Blob([e.data],{type:"application/json"}),i=e.headers["content-disposition"].split(";")[1].split("=")[1],n=document.createElement("a");n.style.display="none";var r=window.URL||window.webkitURL||window.moxURL;n.href=r.createObjectURL(s),n.download=i,n.click(),window.URL.revokeObjectURL(r)}})},handleUploadSuccess:function(t,e,a){"00000000"===t.status?this.$message.success({message:this.$t("SUCCESS_UPLOAD")}):this.$message.warning({message:this.$t("ERR_UPLOAD")})},handleUploadError:function(t,e,a){this.$message.warning({message:this.$t("ERR_UPLOAD")})}}},o={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"main"},[s("div",{staticClass:"info-block"},[s("el-row",{attrs:{gutter:20}},[s("el-col",{staticClass:"info-col",attrs:{span:8}},[s("img",{staticClass:"info-img",attrs:{src:a("BDzH")}}),t._v(" "),s("div",{staticClass:"info-subitem"},[s("div",{staticClass:"info-subitem-title"},[t._v(t._s(t.$t("VERSION")))]),t._v(" "),s("span",{staticClass:"info-subitem-text"},[t._v(t._s(t.version))])])]),t._v(" "),s("el-col",{staticClass:"info-col",attrs:{span:8}},[s("img",{staticClass:"info-img",attrs:{src:a("Pq/1")}}),t._v(" "),s("div",{staticClass:"info-subitem"},[s("div",{staticClass:"info-subitem-title"},[t._v(t._s(t.$t("HEALTH_STATUS")))]),t._v(" "),s("span",{staticClass:"info-subitem-text"},[t._v(t._s(t.healthStatus))])])])],1)],1),t._v(" "),s("el-table",{staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:t.tableData,"span-method":t.objectSpanMethod,"cell-style":{textAlign:"center",border:"0.5px solid rgb(123, 143, 175, 0.5)",padding:"10px 0"},"header-cell-style":{textAlign:"center",padding:"10px 0"},"empty-text":t.$t("EMPTY_TEXT")}},[s("el-table-column",{attrs:{prop:"CertType",label:t.$t("COLUMN_CERT_TYPE")}}),t._v(" "),s("el-table-column",{attrs:{prop:"CertValidDate",label:t.$t("COLUMN_CERT_VALID_DATE")}}),t._v(" "),s("el-table-column",{attrs:{prop:"CertAlarm",label:t.$t("COLUMN_CERT_ALARM")}}),t._v(" "),s("el-table-column",{attrs:{prop:"CrlStatus",label:t.$t("COLUMN_CRL_STATUS")}})],1),t._v(" "),s("div",{staticClass:"home-operation"},[s("el-upload",{staticClass:"upload-demo",staticStyle:{display:"inline-block"},attrs:{action:"/datamanager/v1/import","file-list":t.fileList,"before-upload":t.handleBeforeUpload,"show-file-list":!1,"on-success":t.handleUploadSuccess,"on-error":t.handleUploadError}},[s("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary"}},[t._v(t._s(t.$t("BUTTON_UPLOAD")))])],1),t._v(" "),s("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary",plain:""},on:{click:t.handleDownload}},[t._v("\n      "+t._s(t.$t("BUTTON_DOWNLOAD"))+"\n    ")])],1)],1)},staticRenderFns:[]};var l=a("VU/8")(r,o,!1,function(t){a("FdRv")},"data-v-d4ae14e8",null);e.default=l.exports},"Pq/1":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAILSURBVHgB7ZnLccIwEIZlTw7ckhJMBaEEOkhuPC7BFUAqwFQQqCBw4XUiFcQlkApCCT4xXID869Fk8pAf60nAaPab8ciIlaxfK1nWSilBEARBEARBEAThN04eo9lsVncc5wG397hu1PmIcK2Ox+Og1WptVAEyBS8Wiz4eEKiSAQcEjUZjoJikCoZnO6j4me4Ph8MI98OiPfsXoD0e2tDDbVdnPTabzSGjinTB8/n8HYlXpOL/BO0i0U8QH22326rv+1Hesm7SH9PplOarh2tdJrGEbk+IqXZTqVRqnLKJgtF7cUWo9EWVkzed1hWDK8VkuVzWMJ9flfltPUbv+xy7osAREZyiuLhMe7Xf79OWpg7X7tSwPVw24OVrvG96SD8713XdNZaslcn+4gWDHgR+y8Bwpze5cWVhD+lLAR7vm/KtFUxLlinfWsFJiGDbEcG2I4JtRwTbjs2flsYoiLWCKQZnyr/43RK+mSe41l+3hyBEsDE02duwPdy02+3cMbciQzqkhyT8Ny5gd1IyPfxzm6WHSjWrXF67U5Pm4TA2cN1bVUIwZ+8opfnLKZcoeLfbUUX0aq/rwHdpQHvo5IHCyDR/V5yyWScPcYRf/xyiN0fnPmrBiOuiHbEDkPpoz5hTR2ZgFw8JkuJD50SfIAaKSd7jUg9JoOdNGY5LJ0nrrCAIgiAIgiAIglCEDxfBvSVLooxpAAAAAElFTkSuQmCC"}});
//# sourceMappingURL=1.76c708a8bcc9704f18f9.js.map