{"version":3,"sources":["webpack:///./src/assets/user/version.png","webpack:///src/pages/Home.vue","webpack:///./src/service/home.js","webpack:///./src/pages/Home.vue?72bf","webpack:///./src/pages/Home.vue","webpack:///./src/assets/user/healthStatus.png"],"names":["module","exports","Home","name","data","username","password","version","tableData","healthStatus","spanArr","position","fileList","mounted","this","queryData","methods","_this","params","arguments","length","undefined","$get","fetchVersion","then","resVersion","status","timerVersion","setTimeout","clearTimeout","fetchHealthStatus","resHealth","timerHealth","fetchCertStatus","resCert","timerCert","handleSpan","msg","split","_this2","mgmtArr","filter","item","CertType","svcArr","concat","forEach","index","MGMT","SVC","CertAlarm","CrlStatus","push","objectSpanMethod","_ref","row","column","rowIndex","columnIndex","_row","rowspan","colspan","handleBeforeUpload","file","isZip","type","indexOf","isLt50M","size","$message","error","$t","handleDownload","_this3","extends_default","responseType","exportFile","res","headers","reader","FileReader","onload","e","JSON","parse","target","result","message","readAsText","blob","Blob","filename","link","document","createElement","style","display","url","window","URL","webkitURL","moxURL","href","createObjectURL","download","click","revokeObjectURL","handleUploadSuccess","response","success","warning","handleUploadError","err","pages_Home","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","gutter","span","src","__webpack_require__","_v","_s","staticStyle","width","margin-top","span-method","cell-style","textAlign","border","padding","header-cell-style","empty-text","prop","label","action","file-list","before-upload","show-file-list","on-success","on-error","margin-left","plain","on","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/1.27abcb2d55470377d64e.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/user/version.png\n// module id = BDzH\n// module chunks = 1","<template>\r\n  <div class=\"main\">\r\n    <div class=\"info-block\">\r\n      <el-row :gutter=\"20\">\r\n          <el-col :span=\"8\" class=\"info-col\">\r\n              <img class=\"info-img\" src=\"@/assets/user/version.png\" />\r\n              <div class=\"info-subitem\">\r\n                  <div class=\"info-subitem-title\">{{$t('VERSION')}}</div>\r\n                  <span class=\"info-subitem-text\">{{ version }}</span>\r\n              </div>\r\n          </el-col>\r\n          <el-col :span=\"8\" class=\"info-col\">\r\n              <img class=\"info-img\" src=\"@/assets/user/healthStatus.png\" />\r\n              <div class=\"info-subitem\">\r\n                  <div class=\"info-subitem-title\">{{$t('HEALTH_STATUS')}}</div>\r\n                  <span class=\"info-subitem-text\">{{ healthStatus }}</span>\r\n              </div>\r\n          </el-col>\r\n      </el-row>\r\n    </div>\r\n    \r\n    <el-table\r\n      :data=\"tableData\"\r\n      :span-method=\"objectSpanMethod\"\r\n      style=\"width: 100%; margin-top: 20px\"\r\n      :cell-style=\"{ textAlign: 'center', border: '0.5px solid rgb(123, 143, 175, 0.5)', padding: '10px 0', }\"\r\n      :header-cell-style=\"{ textAlign: 'center', padding: '10px 0', }\"\r\n      :empty-text=\"$t('EMPTY_TEXT')\"\r\n    >\r\n      <el-table-column prop=\"CertType\" :label=\"$t('COLUMN_CERT_TYPE')\"></el-table-column>\r\n      <el-table-column prop=\"CertValidDate\" :label=\"$t('COLUMN_CERT_VALID_DATE')\"></el-table-column>\r\n      <el-table-column prop=\"CertAlarm\" :label=\"$t('COLUMN_CERT_ALARM')\"></el-table-column>\r\n      <el-table-column prop=\"CrlStatus\" :label=\"$t('COLUMN_CRL_STATUS')\"></el-table-column>\r\n    </el-table>\r\n\r\n    <div class=\"home-operation\">\r\n      <el-upload\r\n        class=\"upload-demo\"\r\n        action=\"/datamanager/v1/import\"\r\n        :file-list=\"fileList\"\r\n        style=\"display: inline-block;\"\r\n        :before-upload=\"handleBeforeUpload\"\r\n        :show-file-list=\"false\"\r\n        :on-success=\"handleUploadSuccess\"\r\n        :on-error=\"handleUploadError\"\r\n        >\r\n        <el-button style=\"margin-left: 10px;\" type=\"primary\">{{ $t('BUTTON_UPLOAD') }}</el-button>\r\n      </el-upload>\r\n\r\n      <el-button \r\n        type=\"primary\" \r\n        plain \r\n        style=\"margin-left: 10px;\"\r\n        @click=\"handleDownload\"\r\n      >\r\n        {{ $t('BUTTON_DOWNLOAD') }}\r\n      </el-button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { fetchVersion, fetchHealthStatus, fetchCertStatus, exportFile } from '@/service/home.js'\r\n\r\nexport default {\r\n  name: 'home',\r\n  data () {\r\n    return {\r\n      username: '',\r\n      password: '',\r\n      version: '',\r\n      tableData: [],\r\n      healthStatus: '',\r\n      spanArr: [],\r\n      position: 0,\r\n      fileList: [],\r\n    }\r\n  },\r\n  mounted() {\r\n    this.queryData()\r\n  },\r\n  methods: {\r\n    queryData() {\r\n      fetchVersion()\r\n        .then(resVersion => {\r\n          if(resVersion.data.status === '31000022') {\r\n            let timerVersion = setTimeout(() => {\r\n              this.queryData()\r\n              clearTimeout(timerVersion)\r\n            }, 1000);\r\n          }\r\n\r\n          fetchHealthStatus()\r\n            .then(resHealth => {\r\n              if(resHealth.data.status === '31000022') {\r\n                let timerHealth = setTimeout(() => {\r\n                  this.queryData()\r\n                  clearTimeout(timerHealth)\r\n                }, 1000);\r\n              }\r\n\r\n              fetchCertStatus()\r\n                .then(resCert => {\r\n                  if(resCert.data.status === '31000022') {\r\n                    let timerCert = setTimeout(() => {\r\n                      this.queryData()\r\n                      clearTimeout(timerCert)\r\n                    }, 1000);\r\n                  }\r\n                    this.tableData = resCert.data.data\r\n                    this.handleSpan()\r\n                    this.healthStatus = resHealth.data.msg === 'ok' ? '健康' : '不健康'\r\n                    this.version = resVersion.data.data.version.split('_')[0]\r\n                })\r\n            })\r\n        })\r\n    },\r\n    handleSpan() {\r\n      let mgmtArr = this.tableData.filter(item => item.CertType === 'MGMT')\r\n      let svcArr = this.tableData.filter(item => item.CertType !== 'MGMT')\r\n      this.tableData = mgmtArr.concat(svcArr)\r\n\r\n      this.tableData.forEach((item, index) => {\r\n          item.CertType = {'MGMT': '管理面' , 'SVC': '服务面'}[item.CertType]\r\n          item.CertAlarm = item.CertAlarm === '' ? '正常' : '不正常'\r\n          item.CrlStatus = item.CrlStatus === 'No CRL certificate has been imported.' ? '未导入' : '已导入'\r\n          if(index === 0) {\r\n              this.spanArr.push(1)\r\n              this.position = 0\r\n          } else {\r\n              if(this.tableData[index].CertType === this.tableData[index - 1].CertType) {\r\n                  this.spanArr[this.position] += 1;\r\n                  this.spanArr.push(0)\r\n              } else {\r\n                  this.spanArr.push(1)\r\n                  this.position = index\r\n              }\r\n          }\r\n      })\r\n    },\r\n    objectSpanMethod({ row, column, rowIndex, columnIndex }) {\r\n      if (columnIndex === 0) {\r\n          const _row = this.spanArr[rowIndex]\r\n          const _col = _row > 0 ? 1 : 0;\r\n          return {\r\n              rowspan: _row,\r\n              colspan: _col\r\n          }\r\n      }\r\n    },    \r\n    handleBeforeUpload(file) {\r\n      const isZip = file.type.indexOf('zip') > -1;\r\n      const isLt50M = file.size / 1024 / 1024 <= 50;\r\n\r\n      if (!isZip) {\r\n        this.$message.error(this.$t('ERR_UPLOAD_FILE_TYPE'));\r\n      }\r\n      if (!isLt50M) {\r\n        this.$message.error(this.$t('ERR_UPLOAD_FILE_SIZE'));\r\n      }\r\n      return isZip && isLt50M;\r\n    },\r\n    handleDownload() {\r\n      exportFile()\r\n        .then(res => {\r\n          if (res.headers['content-disposition'] === undefined) {\r\n            let reader = new FileReader();\r\n            reader.onload = (e) => {\r\n                let res = JSON.parse(e.target.result);\r\n                if(res.status === '41000002') {\r\n                    this.$message.error({\r\n                        message: this.$t('ERR_DOWNLOAD'),\r\n                    })\r\n                }\r\n            }\r\n            reader.readAsText(res.data)\r\n          } else {\r\n            let blob = new Blob([res.data], {type: 'application/json'})\r\n            let filename = res.headers['content-disposition'].split(';')[1].split('=')[1];\r\n            let link = document.createElement('a');\r\n            link.style.display = 'none';\r\n\r\n            const url = window.URL || window.webkitURL || window.moxURL;\r\n            link.href = url.createObjectURL(blob);\r\n            link.download = filename;\r\n            link.click();\r\n            window.URL.revokeObjectURL(url);\r\n          }\r\n        })\r\n    },\r\n    handleUploadSuccess(response, file, fileList) {\r\n      if(response.status === \"00000000\") {\r\n        this.$message.success({message: this.$t('SUCCESS_UPLOAD')})\r\n      } else {\r\n        this.$message.warning({message: this.$t('ERR_UPLOAD')})\r\n      }\r\n    },\r\n    handleUploadError(err, file, fileList) {\r\n      this.$message.warning({message: this.$t('ERR_UPLOAD')})\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped>\r\n.home-operation {\r\n  margin-top: 20px;\r\n}\r\n  .info-block {\r\n      background-color: #1f2329;\r\n      height: 64px;\r\n      border-radius: 4px;\r\n      padding: 16px 24px;\r\n      margin-top: 10px;\r\n  }\r\n  \r\n  .info-col {\r\n      display: flex;\r\n      vertical-align: center;\r\n  }\r\n  .info-subitem {\r\n      display: inline-block;\r\n  }\r\n  \r\n  .info-subitem-title {\r\n      margin-left: 10px;\r\n      font-size: 14px;\r\n      color: #6A6A6A;\r\n  }\r\n  \r\n  .info-subitem-text {\r\n      margin-left: 10px;\r\n      font-size: 32px;\r\n      color: #6A6A6A;\r\n  }\r\n  </style>\n\n\n// WEBPACK FOOTER //\n// src/pages/Home.vue","import { $get } from './http';\r\n\r\n// 查询版本号\r\nexport function fetchVersion(params = {}) {\r\n    const url = '/AIVAULT/v1/version/'\r\n    return $get(url, params)\r\n}\r\n\r\n// 查询健康状态\r\nexport function fetchHealthStatus(params = {}) {\r\n    const url = '/AIVAULT/v1/health'\r\n    return $get(url, params)\r\n}\r\n\r\n// 查询证书状态\r\nexport function fetchCertStatus(params = {}) {\r\n    const url = '/AIVAULT/v1/certStatus'\r\n    return $get(url, params)\r\n}\r\n\r\n// 导出\r\nexport function exportFile(params = {}) {\r\n    const url = '/datamanager/v1/export'\r\n    return $get(url, {\r\n        ...params\r\n    },\r\n    {\r\n        responseType: 'blob'\r\n    });\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/service/home.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"main\"},[_c('div',{staticClass:\"info-block\"},[_c('el-row',{attrs:{\"gutter\":20}},[_c('el-col',{staticClass:\"info-col\",attrs:{\"span\":8}},[_c('img',{staticClass:\"info-img\",attrs:{\"src\":require(\"@/assets/user/version.png\")}}),_vm._v(\" \"),_c('div',{staticClass:\"info-subitem\"},[_c('div',{staticClass:\"info-subitem-title\"},[_vm._v(_vm._s(_vm.$t('VERSION')))]),_vm._v(\" \"),_c('span',{staticClass:\"info-subitem-text\"},[_vm._v(_vm._s(_vm.version))])])]),_vm._v(\" \"),_c('el-col',{staticClass:\"info-col\",attrs:{\"span\":8}},[_c('img',{staticClass:\"info-img\",attrs:{\"src\":require(\"@/assets/user/healthStatus.png\")}}),_vm._v(\" \"),_c('div',{staticClass:\"info-subitem\"},[_c('div',{staticClass:\"info-subitem-title\"},[_vm._v(_vm._s(_vm.$t('HEALTH_STATUS')))]),_vm._v(\" \"),_c('span',{staticClass:\"info-subitem-text\"},[_vm._v(_vm._s(_vm.healthStatus))])])])],1)],1),_vm._v(\" \"),_c('el-table',{staticStyle:{\"width\":\"100%\",\"margin-top\":\"20px\"},attrs:{\"data\":_vm.tableData,\"span-method\":_vm.objectSpanMethod,\"cell-style\":{ textAlign: 'center', border: '0.5px solid rgb(123, 143, 175, 0.5)', padding: '10px 0', },\"header-cell-style\":{ textAlign: 'center', padding: '10px 0', },\"empty-text\":_vm.$t('EMPTY_TEXT')}},[_c('el-table-column',{attrs:{\"prop\":\"CertType\",\"label\":_vm.$t('COLUMN_CERT_TYPE')}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"CertValidDate\",\"label\":_vm.$t('COLUMN_CERT_VALID_DATE')}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"CertAlarm\",\"label\":_vm.$t('COLUMN_CERT_ALARM')}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"CrlStatus\",\"label\":_vm.$t('COLUMN_CRL_STATUS')}})],1),_vm._v(\" \"),_c('div',{staticClass:\"home-operation\"},[_c('el-upload',{staticClass:\"upload-demo\",staticStyle:{\"display\":\"inline-block\"},attrs:{\"action\":\"/datamanager/v1/import\",\"file-list\":_vm.fileList,\"before-upload\":_vm.handleBeforeUpload,\"show-file-list\":false,\"on-success\":_vm.handleUploadSuccess,\"on-error\":_vm.handleUploadError}},[_c('el-button',{staticStyle:{\"margin-left\":\"10px\"},attrs:{\"type\":\"primary\"}},[_vm._v(_vm._s(_vm.$t('BUTTON_UPLOAD')))])],1),_vm._v(\" \"),_c('el-button',{staticStyle:{\"margin-left\":\"10px\"},attrs:{\"type\":\"primary\",\"plain\":\"\"},on:{\"click\":_vm.handleDownload}},[_vm._v(\"\\n      \"+_vm._s(_vm.$t('BUTTON_DOWNLOAD'))+\"\\n    \")])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-79de24c6\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/Home.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-79de24c6\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Home.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Home.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Home.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-79de24c6\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Home.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-79de24c6\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/Home.vue\n// module id = null\n// module chunks = ","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAILSURBVHgB7ZnLccIwEIZlTw7ckhJMBaEEOkhuPC7BFUAqwFQQqCBw4XUiFcQlkApCCT4xXID869Fk8pAf60nAaPab8ciIlaxfK1nWSilBEARBEARBEAThN04eo9lsVncc5wG397hu1PmIcK2Ox+Og1WptVAEyBS8Wiz4eEKiSAQcEjUZjoJikCoZnO6j4me4Ph8MI98OiPfsXoD0e2tDDbVdnPTabzSGjinTB8/n8HYlXpOL/BO0i0U8QH22326rv+1Hesm7SH9PplOarh2tdJrGEbk+IqXZTqVRqnLKJgtF7cUWo9EWVkzed1hWDK8VkuVzWMJ9flfltPUbv+xy7osAREZyiuLhMe7Xf79OWpg7X7tSwPVw24OVrvG96SD8713XdNZaslcn+4gWDHgR+y8Bwpze5cWVhD+lLAR7vm/KtFUxLlinfWsFJiGDbEcG2I4JtRwTbjs2flsYoiLWCKQZnyr/43RK+mSe41l+3hyBEsDE02duwPdy02+3cMbciQzqkhyT8Ny5gd1IyPfxzm6WHSjWrXF67U5Pm4TA2cN1bVUIwZ+8opfnLKZcoeLfbUUX0aq/rwHdpQHvo5IHCyDR/V5yyWScPcYRf/xyiN0fnPmrBiOuiHbEDkPpoz5hTR2ZgFw8JkuJD50SfIAaKSd7jUg9JoOdNGY5LJ0nrrCAIgiAIgiAIglCEDxfBvSVLooxpAAAAAElFTkSuQmCC\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/user/healthStatus.png\n// module id = Pq/1\n// module chunks = 1"],"sourceRoot":""}